<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Animate -->
    <link href='animate.css' rel='stylesheet'>

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower|Varela+Round&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <!-- Style -->
    <style>
        body {
            background-image: url("background.jpg");
            background-size: cover;
            background-repeat: repeat;
            background-attachment: fixed;
            font-family: 'Varela Round', sans-serif;
        }

        #questionDiv {
            background: rgba(15, 158, 115, 0.5);
            padding: 10px
        }

        #submitButton, #playAgainButton {
            background: rgb(199, 16, 101) !important;
            border-color: rgb(199, 16, 101) !important
        }

        h6 {
            color: white;
            font-size: 50px
        }
    </style>

</head>

<body class='p-5'>
    <div class='container'>
        <div class='row'>

            <div id='questionDiv' class='col-lg-6 col-md-12 animated fadeInLeft'>
                <h6>Tell us about yourself.</h6>
                <br>
                <form id='submitAnswersForm'>
                    <div class='form-group card p-2'>
                        <label>I would consider myself to be very sociable.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='social'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class='form-group card p-2'>
                        <label>I like to eat a lot of fish.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='fish'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I enjoy exercising.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='exercise'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I will pretty much eat anything in front of me.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='eatAnything'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I'd prefer a cozy house over a large one.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='cozyHouse'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I would consider myself to be very energetic.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='energetic'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I like cats.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='cats'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I like dogs.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='dogs'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I am a pretty playful person.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='playful'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='form-group card p-2'>
                        <label>I'm one of the most loyal people I know.</label>
                        <br>
                        <div class='row'>
                            <div class='col-1 text-left'>
                                <span><i class="far fa-thumbs-down"></i></span>
                            </div>
                            <div class='col-10'>
                                <input type="range" class="form-control-range" min="1" max="5" name='loyal'>
                            </div>
                            <div class='col-1 text-right'>
                                <span><i class="far fa-thumbs-up"></i></span>
                            </div>
                        </div>                    </div>
                    <div class='text-right'>
                        <button id="cancelButton" class='btn btn-secondary'>Cancel</button>
                        <button type="submit" id='submitButton' class='btn btn-primary' data-toggle="modal"
                            data-target="#exampleModalCenter">Submit</button>
                    </div>
                </form>
            </div>

            <div class='col-lg-6 col-md-12'>

            </div>

        </div>

        <!-- Modal -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalCenterTitle">Results</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id='resultModalBody' class="modal-body row">
                        <div class='col-6'>
                            <div id='matchPicture'></div>
                        </div>
                        <div class='col-6'>
                            <div id='matchName'></div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <div id='playAgainButton' class="btn btn-secondary">Play Again</div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        $(document).on('submit', '#submitAnswersForm', function () {
            event.preventDefault()
            $.ajax({
                url: `/api/friends`,
                method: "POST",
                data: $('#submitAnswersForm').serialize()
            }).then(function (response) {
                console.log(response.name)
                console.log(response.photo)
                $('#matchPicture').empty()
                $('#matchName').empty()
                $('#matchPicture').append(`<img height='150px' width='150px' src=${response.photo}>`)
                $('#matchName').append(`<p>It looks like you'd get along really well with ${response.name}!</p>`)
            });
        })

        $(document).on('click', '#cancelButton', function () {
            window.location.replace('/')
        })

        $(document).on('click', '#playAgainButton', function () {
            window.location.replace('/survey')
        })

    </script>
</body>

</html>